define ("block_emergency_alerts/control",["jquery","core/log","core/pubsub"],function(a,b,c){'use strict';function d(a){var b=this;b.region=a}d.prototype.main=function(){var b=this;b.drawBanner();var d=a("body");c.subscribe("nav-drawer-toggle-end",function(){if(d.hasClass("has-emergency-alert")){window.scrollTo(0,0)}});a(window).on("resize",function(){b.drawBanner()})};d.prototype.drawBanner=function(){var b=this,c=a("body"),d=b.region.closest(".block.block_emergency_alerts");if(!c.hasClass("editing")&&b.region.data("numalerts")){d.addClass("active");c.addClass("has-emergency-alert");d.detach();c.prepend(d);var e=d.height(),f=a(".navbar"),g={"margin-top":e,position:"absolute"};f.css(g);var h=a("#nav-drawer"),g={"margin-top":e,position:"absolute",height:"auto",overflow:"hidden"};h.css(g);h.css("height","calc(100% - "+(e+70)+"px)");h.css("overflow-y","auto");var i=a("#page");i.css("margin-top",e+f.height());c.css("overflow-y","auto")}};return{init:function(c){b.debug("block_emergency_alerts/control: initializing instance "+c);var e=a("[data-region=\"block_emergency_alerts-instance-"+c+"\"]").first();if(!e.length){b.debug("block_emergency_alerts/control: wrapping region not found!");return}var f=new d(e);f.main()}}});
//# sourceMappingURL=control.min.js.map
